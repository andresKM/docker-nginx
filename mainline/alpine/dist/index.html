<!DOCTYPE html>
<html>

<head>
	<!-- Standard Meta -->
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	<!-- Site Properties -->
	<title>Головна сторінка тестового сервісу перевірки деревини - FSC</title>
	<link rel="stylesheet" type="text/css" href="dist/semantic.css">
	<!-- <link rel="stylesheet" type="text/css" href="dist/components/reset.css">
	<link rel="stylesheet" type="text/css" href="dist/components/site.css">
	<link rel="stylesheet" type="text/css" href="dist/components/container.css">
	<link rel="stylesheet" type="text/css" href="dist/components/grid.css">
	<link rel="stylesheet" type="text/css" href="dist/components/header.css">
	<link rel="stylesheet" type="text/css" href="dist/components/image.css">
	<link rel="stylesheet" type="text/css" href="dist/components/menu.css">
	<link rel="stylesheet" type="text/css" href="dist/components/divider.css">
	<link rel="stylesheet" type="text/css" href="dist/components/segment.css">
	<link rel="stylesheet" type="text/css" href="dist/components/button.css">
	<link rel="stylesheet" type="text/css" href="dist/components/list.css">
	<link rel="stylesheet" type="text/css" href="dist/components/icon.css">
	<link rel="stylesheet" type="text/css" href="dist/components/sidebar.css">
	<link rel="stylesheet" type="text/css" href="dist/components/tab.css">
	<link rel="stylesheet" type="text/css" href="dist/components/form.css">
	<link rel="stylesheet" type="text/css" href="dist/components/message.css"> -->
	<link rel="stylesheet" type="text/css" href="assets/main.css">
	<link rel="stylesheet" type="text/css" href="assets/offline-theme-default.css">
	<link rel="stylesheet" type="text/css" href="assets/offline-language-ua.css">
	<!-- <link rel="stylesheet" type="text/css" href="dist/components/transition.css"> -->
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.js"></script> -->
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script> -->
	<script src="assets/jquery.min.js"></script>
	<!-- <script src="dist/components/visibility.js"></script>
	<script src="dist/components/sidebar.js"></script>
	<script src="dist/components/tab.js"></script>
	<script src="dist/components/form.js"></script> -->
	<script src="dist/semantic.js"></script>
	<script src="assets/modernizr.min.js"></script>
	<script src="assets/offline.min.js"></script>
	<script src="assets/elasticsearch.jquery.min.js"></script>
	<!-- <script src="assets/offline-simulate-ui.min.js"></script> -->
	<!-- <script src="dist/components/transition.js"></script> -->
	<script>
	var client = new $.es.Client({
		host: 'http://eod:eod_pass@swarm1813.cloudout.co:9200'
	});

	$(document).ready(function() {
		// fix menu when passed
		$('.masthead').visibility({
			once: false,
			onBottomPassed: function() {
				// $('.fixed.menu').transition('fade in');
				$('.fixed.menu');
			},
			onBottomPassedReverse: function() {
				// $('.fixed.menu').transition('fade out');
				$('.fixed.menu');
			}
		});
		// create sidebar and attach to menu open
		$('.ui.sidebar').sidebar('attach events', '.toc.item');

		$("#jumbo_button").click(function() {
			$("#jumbo").hide();
			$(".masthead.segment").css("height", "80px");
			$(".masthead.segment").css("min-height", "80px");
			//$("#main-menu").removeClass(".masthead .segment");
			//$("#main-menu").addClass("main-menu-slim");

			//make here a ping call to db
		});
		$(".se-pre-con").fadeOut(3500);
		$('.tabular.menu .item').tab({
			onFirstLoad: function() {
				$("#jumbo_button").click();
			}

		});
		//Offline.options = {checks: {image: {url: 'http://www.proderevo.info/favicon.ico'}, active: 'image'}};
		Offline.check();
		$('.message .close').on('click', function() {
			$(this).closest('.message').hide();
			$(".ui.horizontal.divider").hide();
		});



		$.fn.submit_car = function() {
			console.log("sbmt");
			/*var formData = {
				field1: getFieldValue('search_car')
			}*/
			//send search to elastic
			var qq = $("#car-form").form('get field', "search_car").val();
			client.search({
				index: 'fsc',
				q: "car_number:"+qq,
				size: 1
			}).then(function(body) {
				var hits = body.hits.hits;
				console.log(hits);
			}, function(error) {
				console.trace(error.message);
			});



		};

		$.fn.submit_ttn = function() {
			console.log("sbmt");
			/*var formData = {
				field1: getFieldValue('search_car')
			}*/
			var qq = $("#ttn-form").form('get field', "search_ttn").val();
			client.search({
				index: 'fsc',
				q: "ttn:"+qq,
				size: 1
			}).then(function(body) {
				var hits = body.hits.hits;
				console.log(hits);
			}, function(error) {
				console.trace(error.message);
			});

		};


		$.fn.submit_birka = function() {
			console.log("sbmt");
			/*var formData = {
				field1: getFieldValue('search_car')
			}*/
			var qq = $("#birka-form").form('get field', "search_birka").val();
			client.search({
				index: 'fsc',
				q: qq,
				size: 1
			}).then(function(body) {
				var hits = body.hits.hits;
				console.log(hits);
			}, function(error) {
				console.trace(error.message);
			});

		};



		$('#car-form .submit.button').on('click', function() {
			$.fn.submit_car ();
		});

		$('#birka-form-form .submit.button').on('click', function() {
			$.fn.submit_birka ();
		});

		$('#ttn-form .submit.button').on('click', function() {
			$.fn.submit_ttn();
		});





		$('#car-form').form({
			fields: {
				// search_car: 'empty'
				search_car: {
					identifier: 'search_car',
					rules: [{
						type: 'empty'
					}]
				}
				// onSuccess: function() {
				// 	$.fn.submit_car();
				// }
			}
		});

		

		$('#ttn-form').form({
			fields: {
				// search_car: 'empty'
				search_car: {
					identifier: 'search_ttn',
					rules: [{
						type: 'empty'
					}]
				}
			}
		});

		$('#birka-form').form({
			fields: {
				// search_car: 'empty'
				search_car: {
					identifier: 'search_birka',
					rules: [{
						type: 'empty'
					}]
				}
			}
		});

		$.fn.makeTable = function(mydata) {
			var table = $('<table >');
			var tblHeader = "<tr>";
			for (var k in mydata[0]) tblHeader += "<th>" + k + "</th>";
			tblHeader += "</tr>";
			$(tblHeader).appendTo(table);
			$.each(mydata, function(index, value) {
				var TableRow = "<tr>";
				$.each(value, function(key, val) {
					TableRow += "<td>" + val + "</td>";
				});
				TableRow += "</tr>";
				$(table).append(TableRow);
			});
			return ($(table));
		};

		$.fn.renderJson = function (sel,data) {
			var mydata = eval(data);
			var table = $.makeTable(mydata);
			$(table).appendTo(sel);
		};			


	});
	</script>
</head>

<body>
	<div class="se-pre-con"></div>
	<!-- Sidebar Menu -->
	<div class="ui vertical inverted sidebar menu tabular" id="sidebar-menu">
		<a class="active item">Головна</a>
		<a class="item" data-tab="tab-car">Пошук по авто</a>
		<a class="item" data-tab="tab-ttn">Пошук по ТТН</a>
		<a class="item" data-tab="tab-birka">Пошук по бірці</a>
	</div>
	<!-- Page Contents -->
	<div class="pusher">
		<div class="ui inverted vertical masthead center aligned segment" id="main-menu">
			<div class="ui container">
				<div class="ui medium secondary inverted pointing menu tabular">
					<a class="toc item">
						<i class="sidebar icon"></i>
					</a>
					<a class="active item">Головна</a>
					<a class="item" data-tab="tab-car">Пошук по авто</a>
					<a class="item" data-tab="tab-ttn">Пошук по ТТН</a>
					<a class="item" data-tab="tab-birka">Пошук по бірці</a>
					<div class="right item">
						<a class="ui inverted button">Як користуватися</a>
					</div>
				</div>
			</div>
			<div class="ui text container" id="jumbo">
				<h1 class="ui inverted header">
					Тестовий сервіс перевірки походження деревини
				</h1>
				<!-- 	<h2>Do whatever you want when you want to.</h2> -->
				<div class="ui huge primary button" id="jumbo_button">Розпочати <i class="right arrow icon"></i></div>
			</div>
		</div>
		<div class="ui tab" data-tab="tab-car">
			<div class="ui raised very padded text container segment">
				<div class="ui huge form" id="car-form">
					<div class="field">
						<label>Введіть номер авто для перевірки</label>
						<input placeholder="Введіть Ваш запит" type="text" name="search_car">
					</div>
					<div class="ui large blue submit button">
						<i class="search icon"></i> Пошук
					</div>
					<div class="ui large yellow right floated clear button">Зкинути</div>
				</div>
			</div>
			<div class="ui raised very padded text container segment">
				<h2 class="ui header">Humans with Dogs</h2>
				<p>The dogs' value to early human hunter-gatherers led to them quickly becoming ubiquitous across world cultures. Dogs perform many roles for people, such as hunting, herding, pulling loads, protection, assisting police and military, companionship, and, more recently, aiding handicapped individuals. This impact on human society has given them the nickname "man's best friend" in the Western world. In some cultures, however, dogs are also a source of meat.</p>
			</div>
		</div>
		<div class="ui tab" data-tab="tab-ttn">
			<div class="ui raised very padded text container segment">
				<div class="ui huge form" id="ttn-form">
					<div class="field">
						<label>Введіть номер ТТН для перевірки</label>
						<input placeholder="Введіть Ваш запит" type="text" name="search_ttn">
					</div>
					<div class="ui large blue submit button">
						<i class="search icon"></i> Пошук
					</div>
					<div class="ui large yellow right floated clear button">Зкинути</div>
				</div>
			</div>
			<div class="ui raised very padded text container segment">
				<h2 class="ui header">Humans with Dogs</h2>
				<p>The dogs' value to early human hunter-gatherers led to them quickly becoming ubiquitous across world cultures. Dogs perform many roles for people, such as hunting, herding, pulling loads, protection, assisting police and military, companionship, and, more recently, aiding handicapped individuals. This impact on human society has given them the nickname "man's best friend" in the Western world. In some cultures, however, dogs are also a source of meat.</p>
			</div>
		</div>
		<div class="ui tab" data-tab="tab-birka">
			<div class="ui raised very padded text container segment">
				<div class="ui huge form" id="birka-form">
					<div class="field">
						<label>Введіть номер бирки для перевірки</label>
						<input placeholder="Введіть Ваш запит" type="text" name="search_birka">
					</div>
					<div class="ui large blue submit button">
						<i class="search icon"></i> Пошук
					</div>
					<div class="ui large yellow right floated clear button">Зкинути</div>
				</div>
			</div>
			<div class="ui raised very padded text container segment">
				<h2 class="ui header">Humans with Dogs</h2>
				<p>The dogs' value to early human hunter-gatherers led to them quickly becoming ubiquitous across world cultures. Dogs perform many roles for people, such as hunting, herding, pulling loads, protection, assisting police and military, companionship, and, more recently, aiding handicapped individuals. This impact on human society has given them the nickname "man's best friend" in the Western world. In some cultures, however, dogs are also a source of meat.</p>
			</div>
		</div>
		<div class="ui raised very padded text container segment" id="dumb_content">
				<h3 class="ui header">Застосування табличного методу значно полегшує орієнтацію в матеріалі. </h3>
				<p>Дані по введеному запиту буде відображено у наступному вигляді:</p>
				<table class="ui compact celled collapsing unstackable striped table" id="results_table">
					<thead>
						<tr>
							<th>Header</th>
							<th>Header</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Cell</td>
							<td>Cell</td>
						</tr>
						<tr>
							<td>Cell</td>
							<td>Cell</td>
						</tr>
						<tr>
							<td>Cell</td>
							<td>Cell</td>
						</tr>
					</tbody>
				</table>
				<h4 class="ui horizontal header divider">
		        		<a href="#">ДО УВАГИ</a>
		      </h4>
				<div class="ui info message">
					<i class="close icon"></i>
					<div class="header">
						Прийміть до уваги наступне:
					</div>
					<ul class="list">
						<li>Наголошуємо, що сервіс працює у тестовому режимі</li>
						<li>Сервіс на данний момент працює з БД, наповненою тестовими даними</li>
					</ul>
				</div>
		</div>
		<div class="ui inverted vertical footer segment">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height stackable grid">
					<div class="seven wide centered column">
						<h3 class="ui inverted header">Звязок з адміністратором сайту: mail@proderevo.info</h3>
						<!-- <h4 class="ui inverted ">Fo</h4> -->
						<!-- <p>Extra space for a call to action inside the footer that could help re-engage users.</p> -->
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>
